{% extends 'management/management.html' %}

{% block title %}Product List{% endblock %}

{% block content %}
<style>
    body {
        background-color: #2e3133;
        color: white;
        margin: 0;
        padding: 20px;
    }

    .page-title {
        color: white;
        font-size: 24px;
        margin-bottom: 20px;
    }

    /* Button styling */
    .action-buttons {
        margin-bottom: 20px;
    }

    .btn {
        padding: 8px 20px;
        font-size: 16px;
        border: none;
        margin-right: 10px;
        cursor: pointer;
    }

    .btn-primary {
        background-color: #0099ff;
        color: white;
    }

    .btn-secondary {
        background-color: #6c757d;
        color: white;
    }

    /* Layout containers */
    .main-container {
        display: flex;
        gap: 20px;
        margin-top: 20px;
    }

    /* Categories sidebar */
    .categories-sidebar {
        width: 200px;
        background-color: #383838;
        padding: 15px;
        border-radius: 4px;
    }

    .categories-title {
        color: white;
        font-size: 18px;
        margin-bottom: 15px;
        padding-bottom: 10px;
        border-bottom: 1px solid #444;
    }

    .categories-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .category-item {
        padding: 10px;
        margin-bottom: 5px;
        cursor: pointer;
        border-radius: 3px;
        transition: background-color 0.2s;
    }

    .category-item:hover {
        background-color: #444;
    }

    .category-item.active {
        background-color: #0099ff;
    }

    /* Products table container */
    .products-container {
        flex-grow: 1;
        background-color: #383838;
        border-radius: 4px;
        padding: 20px;
    }

    /* Table styling */
    .products-table {
        width: 100%;
        border-collapse: collapse;
    }

    .products-table th,
    .products-table td {
        padding: 12px 15px;
        text-align: left;
        border-bottom: 1px solid #444;
    }

    .products-table th {
        background-color: #2e3133;
        color: white;
        font-weight: 500;
    }

    .products-table tr:hover {
        background-color: #444;
    }

    /* Column widths */
    .products-table th:nth-child(1), /* Product Name */
    .products-table td:nth-child(1) {
        width: 25%;
    }

    .products-table th:nth-child(2), /* Category */
    .products-table td:nth-child(2) {
        width: 20%;
    }

    .products-table th:nth-child(3), /* Selling Price */
    .products-table td:nth-child(3) {
        width: 15%;
    }

    .products-table th:nth-child(4), /* Stock Quantity */
    .products-table td:nth-child(4) {
        width: 15%;
    }

    .products-table th:nth-child(5), /* Barcode */
    .products-table td:nth-child(5) {
        width: 25%;
    }
</style>

<h1 class="page-title">Product List</h1>

<div class="action-buttons">
    <a href="{% url 'product-create' %}" class="btn btn-primary">Create New Product</a>
    <a href="{% url 'dashboard' %}" class="btn btn-secondary">Back to Dashboard</a>
</div>

<div class="main-container">
    <!-- Left sidebar for categories -->
    <div class="categories-sidebar">
        <h2 class="categories-title">Categories</h2>
        <ul class="categories-list">
            <li class="category-item active">All Products</li>
            {% for category in categories %}
                <li class="category-item">{{ category.name }}</li>
            {% endfor %}
        </ul>
    </div>

    <!-- Right side product table -->
    <div class="products-container">
        <table class="products-table">
            <thead>
                <tr>
                    <th>Product Name</th>
                    <th>Category</th>
                    <th>Selling Price</th>
                    <th>Stock Quantity</th>
                    <th>Barcode</th>
                </tr>
            </thead>
            <tbody>
                {% for product in products %}
                    <tr>
                        <td>{{ product.name }}</td>
                        <td>{{ product.category.name }}</td>
                        <td>{{ product.selling_price }}</td>
                        <td>{{ product.stock_quantity }}</td>
                        <td>{{ product.barcode }}</td>
                    </tr>
                {% empty %}
                    <tr>
                        <td colspan="5" style="text-align: center; color: #999;">No products found.</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock %}